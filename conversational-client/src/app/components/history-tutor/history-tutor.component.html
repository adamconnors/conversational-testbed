<mat-card>
  <h1>History Tutor</h1>

  <ng-container
    *ngIf="
      worldState?.questions && (worldState?.questions)!.length > 0;
      else noQuestions
    "
  >
    Answer the questions to reveal the answers and complete the lesson. You can
    ask for help or further clarification if you need it.

    <div id="note">NB: This is an experimental experience, your mileage may vary.</div>


    <div class="percentage-complete">
      {{ calculatePercentageComplete() }}% complete
    </div>

    <div class="question-block" *ngFor="let question of worldState?.questions">
      <div class="question">
        <b>{{ question.question }}</b>
      </div>
      <div
        *ngFor="let answer of question.answers"
        class="answer"
        [class.redacted]="!hasAnswered(answer)"
      >
        {{ answer.answer }} 
      </div>
    </div>
  </ng-container>

  <ng-template #noQuestions>
    <div class="no-questions">Loading... Please wait.</div>
  </ng-template>
</mat-card>
